<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"[]>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Intro to Rx - Appendix A Usage guidelines</title>
    <link href="../../Styles/Site.css" rel="stylesheet" type="text/css" />
    <!--Google analytics-->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-32704657-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>
  <body>
    <div class="page">
      <div class="header">
        <div style="margin: 70px 20px 5px; float: right;text-align: right">
          <a href="http://twitter.com/#!/search/%23RxNET">#RxNET</a>
          <br />
          <span style="color: #707070; font-weight: 700; font-size: 11px;">Version v1.0.1062.0</span>
        </div>
        <img id="Logo" src="../../Styles/titleText.png" style="height: 80px; margin: 20px; float: left" />
        <table class="toc" border="0" cellspacing="0" cellpadding="0">
          <tr>
            <th class="toc">
              <a class="toc" href="00_Foreword.html">Preface</a>
            </th>
            <th class="toc">
              <a class="toc" href="01_WhyRx.html">PART 1</a>
            </th>
            <th class="toc">
              <a class="toc" href="04_CreatingObservableSequences.html">PART 2</a>
            </th>
            <th class="toc">
              <a class="toc" href="09_SideEffects.html">PART 3</a>
            </th>
            <th class="toc">
              <a class="toc" href="15_SchedulingAndThreading.html">PART 4</a>
            </th>
            <th class="tocactive">Appendix</th>
          </tr>
          <tr>
            <td></td>
            <td class="toc">
              <a class="toc" href="01_WhyRx.html">Getting started</a>
            </td>
            <td class="toc">
              <a class="toc" href="04_CreatingObservableSequences.html">Sequence basics</a>
            </td>
            <td class="toc">
              <a class="toc" href="09_SideEffects.html">Taming the sequence</a>
            </td>
            <td class="toc">
              <a class="toc" href="15_SchedulingAndThreading.html">Concurrency</a>
            </td>
            <td></td>
          </tr>
        </table>
      </div>
      <div class="leftCol">
        <ul class="partMenu">
          <li>
            <div class="partMenuHeader">
              <a href="00_Foreword.html">Preface</a>
            </div>
            <ul>
              <li>
                <a href="00_Foreword.html#Acknowledgements">Acknowledgements</a>
              </li>
            </ul>
          </li>
        </ul>
        <ul class="partMenu">
          <li>
            <div class="partMenuHeader">
              <a href="01_WhyRx.html">PART 1 - Getting started</a>
            </div>
            <ul>
              <li>
                <a href="01_WhyRx.html#WhyRx">Why Rx?</a>
              </li>
              <li>
                <a href="02_KeyTypes.html#KeyTypes">Key types</a>
              </li>
              <li>
                <a href="03_LifetimeManagement.html#LifetimeManagement">Lifetime management</a>
              </li>
            </ul>
          </li>
        </ul>
        <ul class="partMenu">
          <li>
            <div class="partMenuHeader">
              <a href="04_CreatingObservableSequences.html">PART 2 - Sequence basics</a>
            </div>
            <ul>
              <li>
                <a href="04_CreatingObservableSequences.html#CreationOfObservables">Creating a sequence</a>
              </li>
              <li>
                <a href="05_Filtering.html#Reduction">Reducing a sequence</a>
              </li>
              <li>
                <a href="06_Inspection.html#Inspection">Inspection</a>
              </li>
              <li>
                <a href="07_Aggregation.html#Aggregation">Aggregation</a>
              </li>
              <li>
                <a href="08_Transformation.html#TransformationOfSequences">Transformation of sequences</a>
              </li>
            </ul>
          </li>
        </ul>
        <ul class="partMenu">
          <li>
            <div class="partMenuHeader">
              <a href="09_SideEffects.html">PART 3 - Taming the sequence</a>
            </div>
            <ul>
              <li>
                <a href="09_SideEffects.html#SideEffects">Side effects</a>
              </li>
              <li>
                <a href="10_LeavingTheMonad.html#LeavingTheMonad">Leaving the monad</a>
              </li>
              <li>
                <a href="11_AdvancedErrorHandling.html#AdvancedErrorHandling">Advanced error handling</a>
              </li>
              <li>
                <a href="12_CombiningSequences.html#CombiningMultipleSequences">Combining sequences</a>
              </li>
              <li>
                <a href="13_TimeShiftedSequences.html#TimeShiftedSequences">Time-shifted sequences</a>
              </li>
              <li>
                <a href="14_HotAndColdObservables.html#HotAndCold">Hot and Cold observables</a>
              </li>
            </ul>
          </li>
        </ul>
        <ul class="partMenu">
          <li>
            <div class="partMenuHeader">
              <a href="15_SchedulingAndThreading.html">PART 4 - Concurrency</a>
            </div>
            <ul>
              <li>
                <a href="15_SchedulingAndThreading.html#SchedulingAndThreading">Scheduling and threading</a>
              </li>
              <li>
                <a href="16_TestingRx.html#TestingRx">Testing Rx</a>
              </li>
              <li>
                <a href="17_SequencesOfCoincidence.html#SequencesOfCoincidence">Sequences of coincidence</a>
              </li>
              <li>
                <a href="17_SequencesOfCoincidence.html#Summary">Summary</a>
              </li>
            </ul>
          </li>
        </ul>
        <ul class="partMenu">
          <li>
            <div class="partMenuHeader">
              <a href="18_UsageGuidelines.html">Appendix</a>
            </div>
            <ul>
              <li>
                <a href="18_UsageGuidelines.html#UsageGuidelines">Usage guidelines</a>
              </li>
              <li>
                <a href="19_DispellingMyths.html#DispellingEventMyths">Dispelling event myths</a>
                <ul>
                  <li>
                    <a href="19_DispellingMyths.html#EventMyths">Event myths</a>
                  </li>
                </ul>
              </li>
              <li>
                <a href="20_Disposables.html#Disposables">Disposables</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
      <div class="main">
        <div style="float: right; margin: 10px 0px 10px 10px; width: 140px; font-size: 11px;text-align: center">
          <img src="../../Styles/IntroToRx_Cover.png" style="margin: 10px" />
                                            Lee Campbell<br /><a href="IntroToRx.mobi" title="Introduction to Rx as .mobi file (for Kindle)">Introduction to Rx<br />Kindle edition</a> (2012)
                                        </div>
        <a name="Appendix"></a>
        <h1 class="SectionHeader">Appendix</h1>
        <a name="UsageGuidelines"></a>
        <h1>Usage guidelines</h1>
        <p>
        This is a list of quick guidelines intended to help you when writing Rx queries.
    </p>
        <ul>
          <li>Members that return a sequence should never return null. This applies to <em>IEnumerable&lt;T&gt;</em>
            and <em>IObservable&lt;T&gt;</em> sequences. Return an empty sequence instead.</li>
          <li>Dispose of subscriptions.</li>
          <li>Subscriptions should match their scope.</li>
          <li>Always provide an <code>OnError</code> handler.</li>
          <li>Avoid breaking the monad with blocking operators such as <code>First</code>, <code>
            FirstOrDefault</code>, <code>Last</code>, <code>LastOrDefault</code>, <code>Single</code>,
            <code>SingleOrDefault</code> and <code>ForEach</code>.</li>
          <li>Avoid switching between monads, i.e. going from <em>IObservable&lt;T&gt;</em> to
            <em>IEnumerable&lt;T&gt;</em> and back to <em>IObservable&lt;T&gt;</em>.</li>
          <li>Favor lazy evaluation over eager evaluation.</li>
          <li>Break large queries up into parts. Key indicators of a large query:
            <ol><li>nesting</li><li>over 10 lines of query comprehension syntax</li><li>using the into statement</li></ol></li>
          <li>Name your queries well, i.e. avoid using the names like <code>query</code>, <code>
            q</code>, <code>xs</code>, <code>ys</code>, <code>subject</code> etc.</li>
          <li>Avoid creating side effects. If you must create side effects, be explicit by using
            the <em>Do</em> operator.</li>
          <li>Avoid the use of the subject types. Rx is effectively a functional programming paradigm.
            Using subjects means we are now managing state, which is potentially mutating. Dealing
            with both mutating state and asynchronous programming at the same time is very hard to get right.
            Furthermore, many of the operators (extension methods) have been carefully written
            to ensure that correct and consistent lifetime of subscriptions and sequences is maintained;
            when you introduce subjects, you can break this. Future releases may also see significant
            performance degradation if you explicitly use subjects.</li>
          <li>Avoid creating your own implementations of the <em>IObservable&lt;T&gt;</em> interface.
            Favor using the <em>Observable.Create</em> factory method overloads instead.</li>
          <li>Avoid creating your own implementations of the <em>IObserver&lt;T&gt;</em> interface.
            Favor using the <em>Subscribe</em> extension method overloads instead.</li>
          <li>The subscriber should define the concurrency model. The <em>SubscribeOn</em> and
            <em>ObserveOn</em> operators should only ever precede a <em>Subscribe</em> method.</li>
        </ul>
        <hr />
        <table width="100%">
          <tr>
            <td>&lt;&lt; Back to : <a href="17_SequencesOfCoincidence.html">Sequences of coincidence</a></td>
            <td></td>
            <td align="right">Moving on to : <a href="19_DispellingMyths.html">Dispelling event myths</a>&gt;&gt;</td>
          </tr>
        </table>
      </div>
      <div class="footer">
            Original series @ <a href="http://leecampbell.blogspot.com/2010/08/reactive-extensions-for-net.html">Lee Campbell</a></div>
    </div>
  </body>
</html>